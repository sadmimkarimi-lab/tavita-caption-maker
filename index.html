<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ú©Ù¾Ø´Ù†â€ŒØ³Ø§Ø² Ø·Ø§ÙˆÛŒØªØ§</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ÙÙˆÙ†Øª ÙˆØ²ÛŒØ± -->
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn/Vazirmatn-font-face.css" rel="stylesheet" />
  <script src="https://developer.eitaa.com/eitaa-web-app.js"></script>

  <style>
    :root {
      --blue-main: #2563eb;
      --blue-soft: #e0edff;
      --bg-page: #f4f7ff;
      --text-main: #0f172a;
      --text-muted: #64748b;
      --card-bg: #ffffff;
      --radius-xl: 22px;
      --radius-lg: 18px;
      --radius-md: 12px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: Vazirmatn, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Tahoma, sans-serif;
      background: radial-gradient(circle at top, #e0f2fe 0, #eff6ff 45%, #eef2ff 100%);
      color: var(--text-main);
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 980px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding-bottom: 20px;
    }

    .app-inner {
      padding: 10px 10px 20px;
    }

    /* HEADER */

    .app-header {
      background: linear-gradient(135deg, #2563eb, #60a5fa);
      color: #ffffff;
      padding: 14px 18px 26px;
      display: flex;
      align-items: center;
      justify-content: space-between; /* Ø§ÛŒÙ†Ø¬Ø§ ÙÙ‚Ø· Ø§ØµÙ„Ø§Ø­ Ø´Ø¯ */
      gap: 12px;
      box-shadow: 0 14px 30px rgba(37, 99, 235, 0.35);
      border-radius: 0 0 24px 24px;
      position: relative;
    }

    .header-main {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-wrap {
      width: 46px;
      height: 46px;
      border-radius: 999px;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.6);
      overflow: hidden;
      flex-shrink: 0;
    }

    .logo-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .header-texts {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .header-title {
      font-size: 20px;
      font-weight: 800;
      letter-spacing: -0.03em;
    }

    .header-subtitle {
      font-size: 11px;
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .subtitle-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #bbf7d0;
      box-shadow: 0 0 0 5px rgba(34, 197, 94, 0.45);
      animation: pulse 1.6s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.25); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }

    .header-side {
      display: flex;
      align-items: center;
      justify-content: flex-end;
    }

    .tavita-channel-btn {
      border: none;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 12px;
      background: linear-gradient(135deg, #facc15, #f97316);
      color: #111827;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(250, 204, 21, 0.5);
      white-space: nowrap;
    }

    .tavita-channel-btn:active {
      transform: translateY(1px);
      box-shadow: 0 3px 8px rgba(250, 204, 21, 0.7);
    }

    /* MAIN */

    .main {
      flex: 1;
      padding: 12px 10px 0;
      display: flex;
      flex-direction: column;
      gap: 12px;
      background: linear-gradient(145deg, #f9fbff, #eef4ff);
    }

    .intro-card {
      background: linear-gradient(135deg, #e0edff, #eef4ff);
      border-radius: var(--radius-xl);
      padding: 12px 14px;
      border: 1px solid #d1ddff;
      box-shadow: 0 10px 26px rgba(37, 99, 235, 0.12);
    }

    .intro-title {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .intro-title span {
      font-size: 18px;
    }

    .intro-text {
      font-size: 12px;
      color: #1e293b;
      line-height: 1.9;
      margin-bottom: 8px;
    }

    .intro-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    .intro-toggle-btn {
      border: none;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      cursor: pointer;
      background: rgba(37, 99, 235, 0.08);
      color: #1e3a8a;
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.25);
      white-space: nowrap;
    }

    .intro-toggle-btn:active {
      transform: translateY(1px);
      box-shadow: 0 2px 6px rgba(37, 99, 235, 0.45);
    }

    .intro-body {
      margin-top: 8px;
    }

    .intro-body--collapsed {
      display: none;
    }

    .intro-close-btn {
      margin-top: 8px;
      border: none;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 10px;
      cursor: pointer;
      background: rgba(15, 23, 42, 0.08);
      color: #0f172a;
      white-space: nowrap;
    }

    .intro-text b {
      color: #1d4ed8;
      font-weight: 700;
    }

    .intro-bullets {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 6px;
      margin-top: 4px;
    }

    .intro-pill {
      background: #e0edff;
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 11px;
      color: #1e40af;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      border: 1px solid #dbeafe;
    }

    .intro-pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #2563eb;
    }

    /* mode buttons (Ø³Ù‡ Ø¯Ú©Ù…Ù‡â€ŒÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø®Ø´â€ŒÙ‡Ø§) */

    .mode-switch {
      margin-top: 10px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 8px;
    }

    .mode-btn {
      border: none;
      border-radius: 999px;
      padding: 7px 10px;
      font-size: 12px;
      text-align: right;
      background: #e5edff;
      color: #1d4ed8;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
      box-shadow: 0 4px 12px rgba(148, 163, 184, 0.45);
    }

    .mode-btn .label {
      flex: 1;
    }

    .mode-btn .icon {
      font-size: 16px;
    }

    .mode-btn.active {
      background: linear-gradient(135deg, #2563eb, #4f46e5);
      color: #ffffff;
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.6);
    }

    /* cards */

    .cards {
      margin-top: 10px;
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.1fr);
      gap: 12px;
    }

    .cards .card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 14px 12px 14px;
      border: 1px solid #e2e8f0;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
      display: none;
      flex-direction: column;
      gap: 10px;
    }

    .cards .card.active {
      display: flex;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .card-title-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-icon {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #eff6ff, #2563eb);
      box-shadow: 0 8px 18px rgba(59, 130, 246, 0.6);
    }

    .card-title-text {
      font-size: 14px;
      font-weight: 700;
    }

    .card-subtitle {
      font-size: 11px;
      color: var(--text-muted);
    }

    .chip {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e0f2fe;
      color: #0369a1;
      border: 1px solid #bae6fd;
      white-space: nowrap;
    }

    .card-body {
      margin-top: 6px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .field-row {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-bottom: 4px;
    }

    .field-label {
      font-size: 11px;
      color: #475569;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .field-label span {
      font-size: 14px;
    }

    .field-input,
    .field-textarea,
    .field-select {
      width: 100%;
      font-family: inherit;
      font-size: 12px;
      border-radius: 12px;
      border: 1px solid #cbd5f5;
      padding: 7px 10px;
      outline: none;
      background: #f8fafc;
      transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .field-textarea {
      resize: vertical;
      min-height: 44px;
      max-height: 140px;
    }

    .field-select {
      background: #f8fafc;
    }

    .field-input:focus,
    .field-textarea:focus,
    .field-select:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.35);
      background: #ffffff;
    }

    .row-two {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .field-hint {
      font-size: 10px;
      color: #94a3b8;
    }

    .actions-row {
      margin-top: 4px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px;
    }

    .generate-btn {
      border: none;
      padding: 7px 14px;
      border-radius: 999px;
      font-size: 12px;
      background: radial-gradient(circle at top left, #22c55e, #16a34a);
      color: #ecfdf3;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 10px 24px rgba(22, 163, 74, 0.6);
    }

    .generate-btn:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
    }

    .generate-btn span {
      font-size: 14px;
    }

    .generate-btn:hover:not(:disabled) {
      filter: brightness(1.05);
    }

    .note-text {
      font-size: 10px;
      color: #94a3b8;
    }

    .result-box {
      margin-top: 8px;
      border-radius: var(--radius-lg);
      border: 1px dashed #cbd5f5;
      background: #f8fafc;
      padding: 8px 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .result-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .result-label {
      font-size: 11px;
      font-weight: 600;
      color: #1e293b;
    }

    .copy-btn {
      border: none;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      cursor: pointer;
      background: #e0f2fe;
      color: #0369a1;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .res-box {
      font-size: 12px;
      line-height: 1.9;
      color: #0f172a;
      white-space: pre-wrap;
      direction: rtl;
    }

    /* Ø³ØªÙˆÙ† Ú©Ù†Ø§Ø±ÛŒ (Ø±Ø§Ø³Øª) */

    .side-column {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .side-card {
      background: #f9fafb;
      border-radius: var(--radius-lg);
      padding: 8px 10px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.06);
      font-size: 11px;
      color: #4b5563;
    }

    .side-card-title {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 4px;
      color: #111827;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 10px;
      text-align: center;
      color: #94a3b8;
    }

    /* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */

    @media (max-width: 800px) {
      .cards {
        grid-template-columns: minmax(0, 1fr);
      }

      .app-header {
        align-items: flex-start;
      }
    }

    @media (max-width: 480px) {
      .app-header {
        padding: 12px 12px 20px;
      }

      .header-title {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="header-main">
        <div class="logo-wrap">
          <img
            src="https://cdnfa.com/irangiah/a9be/uploads/list1401/picsart-25-11-14-03-02-41-562.png"
            alt="Ù„ÙˆÚ¯ÙˆÛŒ Ø·Ø§ÙˆÛŒØªØ§"
          />
        </div>
        <div class="header-texts">
          <div class="header-title">Ú©Ù¾Ø´Ù†â€ŒØ³Ø§Ø² Ø·Ø§ÙˆÛŒØªØ§</div>
          <div class="header-subtitle">
            <div class="subtitle-dot"></div>
            <span>Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ ØªÙˆÙ„ÛŒØ¯ Ù…Ø­ØªÙˆØ§ Ø¯Ø± Ø§ÛŒØªØ§</span>
          </div>
        </div>
      </div>

      <div class="header-side">
        <button id="tavitaChannelBtn" class="tavita-channel-btn" type="button">
          Ú©Ø§Ù†Ø§Ù„ Ø·Ø§ÙˆÛŒØªØ§
        </button>
      </div>
    </header>

    <main class="main">
      <!-- Ù…Ø¹Ø±ÙÛŒ (Ú©Ø´ÙˆÛŒÛŒ) -->
      <section class="intro-card">
        <div class="intro-header-row">
          <div class="intro-title">
            <span>âœ¨</span>
            Ú©Ù¾Ø´Ù†â€ŒØ³Ø§Ø² Ø·Ø§ÙˆÛŒØªØ§ Ú†Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ
          </div>
          <button id="introToggleBtn" class="intro-toggle-btn" type="button">
            Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙˆØ¶ÛŒØ­Ø§Øª
          </button>
        </div>
        <div id="introBody" class="intro-body intro-body--collapsed">
          <div class="intro-text">
            Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ú© Ø¨Ø± Ø§Ø³Ø§Ø³ <b>Ø§ØµÙˆÙ„ Ù†Ú¯Ø§Ø±Ø´ Ú©Ù¾Ø´Ù† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</b> Ø¨Ø±Ø§ÛŒ Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡Ø›
            Ø§Ø² Ø³Ø§Ø®Øª ØªÛŒØªØ±Ù‡Ø§ÛŒ Ø¬Ø°Ø§Ø¨ ØªØ§ Ú©Ù¾Ø´Ù† Ú©Ø§Ù…Ù„ Ùˆ CTA Ø¯Ù‚ÛŒÙ‚. Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ Ø±ÙˆÛŒ Â«Ø³Ø§Ø®Øª Ú©Ù¾Ø´Ù†Â» Ù…ÛŒâ€ŒØ²Ù†ÛŒØŒ
            Ø·Ø§ÙˆÛŒØªØ§ Ø³Ø¹ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ù…ØªÙ†ÛŒ Ø¨Ø³Ø§Ø²Ø¯ Ú©Ù‡:
          </div>
          <div class="intro-bullets">
            <div class="intro-pill">
              <span class="intro-pill-dot"></span>
              Ù…ÙˆÙ†Ø¯Ú¯Ø§Ø±ÛŒ Ùˆ ØªØ¹Ø§Ù…Ù„ (Ú©Ø§Ù…Ù†ØªØŒ Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ) Ø±Ø§ Ø¨Ø§Ù„Ø§ Ø¨Ø¨Ø±Ø¯
            </div>
            <div class="intro-pill">
              <span class="intro-pill-dot"></span>
              Ú©Ù…Ú© Ú©Ù†Ø¯ Ù…Ø­ØªÙˆØ§ÛŒØª Ø´Ø§Ù†Ø³ ÙˆØ§ÛŒØ±Ø§Ù„ Ø´Ø¯Ù† Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
            </div>
            <div class="intro-pill">
              <span class="intro-pill-dot"></span>
              Ø±ÙˆÛŒ Ø§Ø¹ØªÙ…Ø§Ø¯ØŒ ØªØ¨Ø¯ÛŒÙ„ Ùˆ ÙØ±ÙˆØ´ ØªÙ…Ø±Ú©Ø² Ú©Ù†Ø¯
            </div>
            <div class="intro-pill">
              <span class="intro-pill-dot"></span>
              Ø¨Ø§ Ù„Ø­Ù† Ùˆ Ù…Ø®Ø§Ø·Ø¨ Ø¨Ø±Ù†Ø¯ ØªÙˆ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø¨Ø§Ø´Ø¯
            </div>
          </div>
          <button id="introCloseBtn" class="intro-close-btn" type="button">
            Ø¨Ø³ØªÙ† ØªÙˆØ¶ÛŒØ­Ø§Øª
          </button>
        </div>
      </section>

      <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø®Ø´â€ŒÙ‡Ø§ -->
      <section class="mode-switch">
        <button class="mode-btn active" data-mode-target="card-caption">
          <span class="label">Ú©Ù¾Ø´Ù† Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ù¾Ø³Øª</span>
          <span class="icon">âœï¸</span>
        </button>
        <button class="mode-btn" data-mode-target="card-title">
          <span class="label">ØªÛŒØªØ± Ùˆ Ù‡ÙˆÚ© Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ù¾Ø´Ù†</span>
          <span class="icon">ğŸ’¡</span>
        </button>
        <button class="mode-btn" data-mode-target="card-prompt">
          <span class="label">Ù¾Ø±Ø§Ù…Ù¾Øª Ø¨Ø±Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§ÙˆØ± / Ø¨Ù†Ø±</span>
          <span class="icon">ğŸ¨</span>
        </button>
      </section>

      <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ -->
      <section class="cards">
        <!-- Ú©Ø§Ø±Øª Û±: Ú©Ù¾Ø´Ù† Ú©Ø§Ù…Ù„ -->
        <article class="card active" id="card-caption">
          <div class="card-header">
            <div class="card-title-wrap">
              <div class="card-icon"></div>
              <div>
                <div class="card-title-text">Ú©Ù¾Ø´Ù† Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ù¾Ø³Øª</div>
                <div class="card-subtitle">Ú©Ù¾Ø´Ù† Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ù†ØªØ´Ø§Ø± + CTA + Ù‡Ø´ØªÚ¯</div>
              </div>
            </div>
            <div class="chip">Ø¨Ø±Ø§ÛŒ Ù¾Ø³Øª Ø§ØµÙ„ÛŒ</div>
          </div>

          <div class="card-body">
            <div class="field-row">
              <label class="field-label">
                <span>â€¢</span>
                Ø§ÛŒØ¯Ù‡ / ØªÙˆØ¶ÛŒØ­ Ù¾Ø³Øª
              </label>
              <textarea
                id="cap-idea"
                class="field-textarea"
                placeholder="Ù…Ø«Ù„Ø§Ù‹: Ù…Ø¹Ø±ÙÛŒ Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ØŒ ÛŒÚ© Ø¯ÙˆØ±Ù‡ØŒ ÛŒÚ© Ù†Ú©ØªÙ‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ ÛŒØ§ ØªØ¬Ø±Ø¨Ù‡ Ø´Ø®ØµÛŒ..."
              ></textarea>
              <div class="field-hint">
                Ú©ÙˆØªØ§Ù‡ Ùˆ Ø´ÙØ§Ù Ø¨Ù†ÙˆÛŒØ³Ø› Ø§Ú¯Ø± Ù…ØªÙ† Ø¢Ù…Ø§Ø¯Ù‡ Ø¯Ø§Ø±ÛŒØŒ Ø®Ù„Ø§ØµÙ‡â€ŒØ§Ø´ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡.
              </div>
            </div>

            <div class="row-two">
              <div class="field-row">
                <label class="field-label">
                  <span>â€¢</span> Ù„Ø­Ù† Ú©Ù¾Ø´Ù†
                </label>
                <select id="cap-tone" class="field-select">
                  <option value="ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡">ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡</option>
                  <option value="Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ">Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ</option>
                  <option value="Ù‡ÛŒØ¬Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ">Ù‡ÛŒØ¬Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ</option>
                  <option value="Ø·Ù†Ø²Ø¢Ù…ÛŒØ² Ùˆ Ø®ÙˆØ¯Ù…Ø§Ù†ÛŒ">Ø·Ù†Ø²Ø¢Ù…ÛŒØ² Ùˆ Ø®ÙˆØ¯Ù…Ø§Ù†ÛŒ</option>
                  <option value="Ø±Ø³Ù…ÛŒ Ùˆ Ø¬Ø¯ÛŒ">Ø±Ø³Ù…ÛŒ Ùˆ Ø¬Ø¯ÛŒ</option>
                </select>
              </div>

              <div class="field-row">
                <label class="field-label">
                  <span>â€¢</span> Ù¾Ù„ØªÙØ±Ù…
                </label>
                <select id="cap-platform" class="field-select">
                  <option value="Ø§ÛŒØªØ§">Ø§ÛŒØªØ§</option>
                  <option value="Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…">Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</option>
                  <option value="ØªÙ„Ú¯Ø±Ø§Ù…">ØªÙ„Ú¯Ø±Ø§Ù…</option>
                  <option value="Ù„ÛŒÙ†Ú©Ø¯ÛŒÙ†">Ù„ÛŒÙ†Ú©Ø¯ÛŒÙ†</option>
                  <option value="ÙˆØ§ØªØ³Ø§Ù¾ ÛŒØ§ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù† Ø¯ÛŒÚ¯Ø±">ÙˆØ§ØªØ³Ø§Ù¾ ÛŒØ§ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù† Ø¯ÛŒÚ¯Ø±</option>
                </select>
              </div>
            </div>

            <div class="field-row">
              <label class="field-label">
                <span>â€¢</span> ØªÙˆØ¶ÛŒØ­Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
              </label>
              <textarea
                id="cap-extra"
                class="field-textarea"
                placeholder="Ù…Ø«Ù„Ø§Ù‹: ØªØ®ÙÛŒÙØŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø²Ù…Ø§Ù†ÛŒØŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ù‡Ù…ØŒ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø±Ù†Ø¯ØŒ Ù„Ø­Ù† Ø®Ø§ØµØŒ Ù…Ø®Ø§Ø·Ø¨ Ø®Ø§Øµ Ùˆ..."
              ></textarea>
            </div>

            <div class="actions-row">
              <button id="btn-cap-generate" class="generate-btn" type="button">
                <span>âœ¨</span>
                Ø³Ø§Ø®Øª Ú©Ù¾Ø´Ù†
              </button>
              <div class="note-text">
                Ø¨Ø¹Ø¯ Ø§Ø² Ø³Ø§Ø®Øª Ú©Ù¾Ø´Ù†ØŒ Ø­ØªÙ…Ø§Ù‹ Ø¢Ù† Ø±Ø§ Ø¨Ø§ Ù„Ø­Ù† Ø®ÙˆØ¯Øª ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù† Ùˆ Ø§Ú¯Ø± Ù„Ø§Ø²Ù… Ø¨ÙˆØ¯ Ú©ÙˆØªØ§Ù‡â€ŒØªØ±Ø´ Ú©Ù†.
              </div>
            </div>

            <div class="result-box">
              <div class="result-header">
                <div class="result-label">Ú©Ù¾Ø´Ù† Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:</div>
                <button class="copy-btn" data-copy-target="cap-result">Ú©Ù¾ÛŒ</button>
              </div>
              <div id="cap-result" class="res-box"></div>
            </div>
          </div>
        </article>

        <!-- Ú©Ø§Ø±Øª Û²: ØªÛŒØªØ± Ùˆ Ù‡ÙˆÚ© -->
        <article class="card" id="card-title">
          <div class="card-header">
            <div class="card-title-wrap">
              <div class="card-icon"></div>
              <div>
                <div class="card-title-text">ØªÛŒØªØ± / Ù‡ÙˆÚ© Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ù¾Ø´Ù†</div>
                <div class="card-subtitle">Ú†Ù†Ø¯ Ø¬Ù…Ù„Ù‡ Ø¬Ø°Ø§Ø¨ Ø¨Ø±Ø§ÛŒ Ø§Ø¨ØªØ¯Ø§ÛŒ Ú©Ù¾Ø´Ù†</div>
              </div>
            </div>
            <div class="chip">ÙÙ‚Ø· Ø§ÙˆÙ„ Ú©Ù¾Ø´Ù†</div>
          </div>

          <div class="card-body">
            <div class="field-row">
              <label class="field-label">
                <span>â€¢</span>
                Ù…ÙˆØ¶ÙˆØ¹ Ú©Ù„ÛŒ Ù¾Ø³Øª
              </label>
              <textarea
                id="title-topic"
                class="field-textarea"
                placeholder="Ù…Ø«Ù„Ø§Ù‹: Ù…Ø¹Ø±ÙÛŒ ÛŒÚ© Ø¯ÙˆØ±Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒØŒ Ú¯ÙØªÙ† ÛŒÚ© ØªØ¬Ø±Ø¨Ù‡ØŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù†Ú©ØªÙ‡ Ù…Ù‡Ù… Ùˆ..."
              ></textarea>
            </div>

            <div class="row-two">
              <div class="field-row">
                <label class="field-label">
                  <span>â€¢</span> Ù„Ø­Ù† ØªÛŒØªØ±
                </label>
                <select id="title-tone" class="field-select">
                  <option value="Ù‡ÛŒØ¬Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ">Ù‡ÛŒØ¬Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ</option>
                  <option value="Ø¢Ù…ÙˆØ²Ø´ÛŒ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ">Ø¢Ù…ÙˆØ²Ø´ÛŒ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ</option>
                  <option value="ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡">ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡</option>
                  <option value="Ø±Ø³Ù…ÛŒ Ùˆ Ø¬Ø¯ÛŒ">Ø±Ø³Ù…ÛŒ Ùˆ Ø¬Ø¯ÛŒ</option>
                  <option value="Ø·Ù†Ø²Ø¢Ù…ÛŒØ² Ùˆ Ø¨Ø§Ù…Ø²Ù‡">Ø·Ù†Ø²Ø¢Ù…ÛŒØ² Ùˆ Ø¨Ø§Ù…Ø²Ù‡</option>
                </select>
              </div>

              <div class="field-row">
                <label class="field-label">
                  <span>â€¢</span> ØªØ¹Ø¯Ø§Ø¯ ØªÛŒØªØ±
                </label>
                <select id="title-count" class="field-select">
                  <option value="3">Û³ ØªÛŒØªØ±</option>
                  <option value="5">Ûµ ØªÛŒØªØ±</option>
                  <option value="7">Û· ØªÛŒØªØ±</option>
                </select>
              </div>
            </div>

            <div class="actions-row">
              <button id="btn-title-generate" class="generate-btn" type="button">
                <span>âœ¨</span>
                Ø³Ø§Ø®Øª ØªÛŒØªØ±Ù‡Ø§
              </button>
            </div>

            <div class="result-box">
              <div class="result-header">
                <div class="result-label">ØªÛŒØªØ±Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:</div>
                <button class="copy-btn" data-copy-target="title-result">Ú©Ù¾ÛŒ</button>
              </div>
              <div id="title-result" class="res-box"></div>
            </div>
          </div>
        </article>

        <!-- Ú©Ø§Ø±Øª Û³: Ù¾Ø±Ø§Ù…Ù¾Øª ØªØµÙˆÛŒØ± -->
        <article class="card" id="card-prompt">
          <div class="card-header">
            <div class="card-title-wrap">
              <div class="card-icon"></div>
              <div>
                <div class="card-title-text">Ù¾Ø±Ø§Ù…Ù¾Øª Ø¨Ø±Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§ÙˆØ± / Ø¨Ù†Ø±</div>
                <div class="card-subtitle">Ù…ØªÙ† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ØªØµÙˆÛŒØ± Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</div>
              </div>
            </div>
            <div class="chip">Prompt</div>
          </div>

          <div class="card-body">
            <div class="field-row">
              <label class="field-label">
                <span>â€¢</span>
                Ù…ÙˆØ¶ÙˆØ¹ Ú©Ù„ÛŒ ØªØµÙˆÛŒØ±
              </label>
              <textarea
                id="prompt-topic"
                class="field-textarea"
                placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§ÙˆØ± Ø¨Ø±Ø§ÛŒ Ù…Ø¹Ø±ÙÛŒ ÛŒÚ© Ø¯ÙˆØ±Ù‡ØŒ ÛŒÚ© Ù…Ø­ØµÙˆÙ„ØŒ ÛŒØ§ ÛŒÚ© ÙˆÛŒØ¯ÛŒÙˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ..."
              ></textarea>
            </div>

            <div class="row-two">
              <div class="field-row">
                <label class="field-label">
                  <span>â€¢</span> Ø³Ø¨Ú© ØªØµÙˆÛŒØ±
                </label>
                <select id="prompt-style" class="field-select">
                  <option value="modern and minimal">Ù…Ø¯Ø±Ù† Ùˆ Ù…ÛŒÙ†ÛŒÙ…Ø§Ù„</option>
                  <option value="colorful and energetic">Ø±Ù†Ú¯Ø§Ø±Ù†Ú¯ Ùˆ Ù¾Ø±Ø§Ù†Ø±Ú˜ÛŒ</option>
                  <option value="soft and pastel colors">Ù…Ù„Ø§ÛŒÙ… Ùˆ Ù¾Ø§Ø³ØªÙ„ÛŒ</option>
                  <option value="futuristic and tech">ÙØ§Ù†ØªØ²ÛŒ / Ø¢ÛŒÙ†Ø¯Ù‡â€ŒÙ†Ú¯Ø±</option>
                </select>
              </div>

              <div class="field-row">
                <label class="field-label">
                  <span>â€¢</span> ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§Ø¶Ø§ÙÙ‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
                </label>
                <textarea
                  id="prompt-extra"
                  class="field-textarea"
                  placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø±Ù†Ú¯â€ŒÙ‡Ø§ØŒ Ø­Ø§Ù„â€ŒÙˆÙ‡ÙˆØ§ØŒ Ø­Ø¶ÙˆØ± Ú©Ø§Ø±Ø§Ú©ØªØ±ØŒ Ù†ÙˆØ¹ ÙÙˆÙ†Øª Ø±ÙˆÛŒ Ø¨Ù†Ø± Ùˆ..."
                ></textarea>
              </div>
            </div>

            <div class="actions-row">
              <button id="btn-prompt-generate" class="generate-btn" type="button">
                <span>âœ¨</span>
                Ø³Ø§Ø®Øª Ù¾Ø±Ø§Ù…Ù¾Øª
              </button>
            </div>

            <div class="result-box">
              <div class="result-header">
                <div class="result-label">Ù¾Ø±Ø§Ù…Ù¾Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ (Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ):</div>
                <button class="copy-btn" data-copy-target="prompt-result">Ú©Ù¾ÛŒ</button>
              </div>
              <div id="prompt-result" class="res-box"></div>
            </div>
          </div>
        </article>

        <!-- Ø³ØªÙˆÙ† Ú©Ù†Ø§Ø±ÛŒ -->
        <aside class="side-column">
          <div class="side-card">
            <div class="side-card-title">Ú†Ù†Ø¯ Ù†Ú©ØªÙ‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ù‡ØªØ±</div>
            <p>
              â€¢ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù†ØªØ´Ø§Ø±ØŒ Ú©Ù¾Ø´Ù† Ø±Ø§ Ø­ØªÙ…Ø§Ù‹ Ø¨Ø§ Ù„Ø­Ù† Ø®ÙˆØ¯Øª ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†.<br />
              â€¢ Ø§Ú¯Ø± Ù…ØªÙ† Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø´Ø¯ØŒ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù… Ø±Ø§ Ø¨ÙˆÙ„Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ù†.<br />
              â€¢ Ø¯Ø± Ù‡Ø± Ù¾Ø³Øª ÙÙ‚Ø· ÛŒÚ© CTA Ø§ØµÙ„ÛŒ Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡.
            </p>
          </div>

          <div class="side-card">
            <div class="side-card-title">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø·Ø§ÙˆÛŒØªØ§</div>
            <p>
              Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ù¾Ø±Ø§Ù…Ù¾Øª ØªØµÙˆÛŒØ±ØŒ Ø§ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹ Ø±Ø§ ÙØ§Ø±Ø³ÛŒ Ø¨Ù†ÙˆÛŒØ³ØŒ
              Ø·Ø§ÙˆÛŒØªØ§ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ù…ØªÙ† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ù…Ø³ØªÙ‚ÛŒÙ… Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ø¯Ø± Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØµÙˆÛŒØ±Ø³Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒ.
            </p>
          </div>
        </aside>
      </section>

      <div class="footer-note">
        Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ ØªÙˆØ³Ø· Ø·Ø§ÙˆÛŒØªØ§
      </div>
    </main>
  </div>

  <script>
    async function callApi(payload) {
      try {
        const res = await fetch("/api/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload),
        });
        const data = await res.json().catch(() => ({}));

        if (!res.ok || data.ok === false) {
          const msg =
            data.error || "Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±. Ù„Ø·ÙØ§Ù‹ Ú†Ù†Ø¯ Ù„Ø­Ø¸Ù‡ Ø¯ÛŒÚ¯Ø± Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†.";
          throw new Error(msg);
        }

        return data.answer || "";
      } catch (err) {
        console.error(err);
        throw err;
      }
    }

    // Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙˆÛŒÛŒÚ† Ø¨ÛŒÙ† Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§
    (function setupModeSwitch() {
      const buttons = document.querySelectorAll(".mode-btn");
      const cards = document.querySelectorAll(".cards .card");

      if (!buttons.length || !cards.length) return;

      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const targetId = btn.getAttribute("data-mode-target");
          if (!targetId) return;

          buttons.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");

          cards.forEach((card) => {
            card.classList.toggle("active", card.id === targetId);
          });
        });
      });
    })();

    // Ú©Ø§Ø±Øª Ú©Ù¾Ø´Ù† Ú©Ø§Ù…Ù„
    (function setupCaptionCard() {
      const btn = document.getElementById("btn-cap-generate");
      if (!btn) return;

      const ideaEl = document.getElementById("cap-idea");
      const toneEl = document.getElementById("cap-tone");
      const platformEl = document.getElementById("cap-platform");
      const extraEl = document.getElementById("cap-extra");
      const resultEl = document.getElementById("cap-result");

      btn.addEventListener("click", async () => {
        const idea = (ideaEl.value || "").trim();
        if (!idea) {
          resultEl.textContent = "Ù„Ø·ÙØ§Ù‹ Ø§ÛŒØ¯Ù‡ ÛŒØ§ ØªÙˆØ¶ÛŒØ­ Ú©Ù„ÛŒ Ù¾Ø³Øª Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ ğŸŒ±";
          return;
        }

        const tone = toneEl.value || "ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†Ù‡";
        const platform = platformEl.value || "Ø§ÛŒØªØ§";
        const extra = (extraEl.value || "").trim();

        const prompt = `
ÛŒÚ© Ú©Ù¾Ø´Ù† Ú©Ø§Ù…Ù„ ÙØ§Ø±Ø³ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø¨Ú©Ù‡ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø¨Ø³Ø§Ø².

Ù…Ø´Ø®ØµØ§Øª:
- Ù¾Ù„ØªÙØ±Ù…: ${platform}
- Ù…ÙˆØ¶ÙˆØ¹: ${idea}
- Ù„Ø­Ù†: ${tone}
- Ù†Ú©Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ: ${extra || "Ú†ÛŒØ²ÛŒ Ù†ÙˆØ´ØªÙ‡ Ù†Ø´Ø¯Ù‡"}

Ø³Ø§Ø®ØªØ§Ø± Ú©Ù¾Ø´Ù†:
1. Ø´Ø±ÙˆØ¹ Ø¬Ø°Ø§Ø¨ Ùˆ Ø¯Ø±Ú¯ÛŒØ±Ú©Ù†Ù†Ø¯Ù‡ (Ù‡ÙˆÚ©)
2. ØªÙˆØ¶ÛŒØ­ Ø§ØµÙ„ÛŒØŒ Ú©ÙˆØªØ§Ù‡ Ùˆ Ø±ÙˆØ§Ù†
3. Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ø§Ø³Øª Ø§Ø´Ø§Ø±Ù‡ Ø¨Ù‡ Ù…Ø²Ø§ÛŒØ§ / Ù†Ú©ØªÙ‡ Ø§ØµÙ„ÛŒ
4. Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ ÛŒÚ© CTA ÙˆØ§Ø¶Ø­ (Ù…Ø«Ù„Ø§Ù‹ Ø°Ø®ÛŒØ±Ù‡ØŒ Ú©Ø§Ù…Ù†ØªØŒ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù„ÛŒÙ†Ú©)

Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ Ûµ ØªØ§ Û±Û° Ù‡Ø´ØªÚ¯ ÙØ§Ø±Ø³ÛŒ Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡.
Ù‡Ø´ØªÚ¯â€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø± ÛŒÚ© ÛŒØ§ Ø¯Ùˆ Ø®Ø· Ø¬Ø¯Ø§ Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ù…ØªÙ† Ø¨ÛŒØ§ÙˆØ±.
        `.trim();

        btn.disabled = true;
        const original = btn.textContent;
        btn.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ú©Ù¾Ø´Ù†...";

        try {
          const answer = await callApi({ text: prompt });
          resultEl.textContent = answer || "Ù…ØªÙ†ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†.";
        } catch (err) {
          resultEl.textContent =
            "Ø§Ø´Ú©Ø§Ù„ÛŒ Ø¯Ø± Ø³Ø§Ø®Øª Ú©Ù¾Ø´Ù† Ù¾ÛŒØ´ Ø¢Ù…Ø¯. Ù„Ø·ÙØ§Ù‹ Ú†Ù†Ø¯ Ù„Ø­Ø¸Ù‡ Ø¯ÛŒÚ¯Ø± Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†. ğŸ™";
        } finally {
          btn.disabled = false;
          btn.textContent = original;
        }
      });
    })();

    // Ú©Ø§Ø±Øª ØªÛŒØªØ± Ùˆ Ù‡ÙˆÚ©
    (function setupTitleCard() {
      const btn = document.getElementById("btn-title-generate");
      if (!btn) return;

      const topicEl = document.getElementById("title-topic");
      const toneEl = document.getElementById("title-tone");
      const countEl = document.getElementById("title-count");
      const resultEl = document.getElementById("title-result");

      btn.addEventListener("click", async () => {
        const topic = (topicEl.value || "").trim();
        if (!topic) {
          resultEl.textContent = "Ù„Ø·ÙØ§Ù‹ Ù…ÙˆØ¶ÙˆØ¹ Ú©Ù„ÛŒ Ù¾Ø³Øª Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ ğŸŒ±";
          return;
        }

        const tone = toneEl.value || "Ù‡ÛŒØ¬Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ";
        const count = countEl.value || "3";

        const prompt = `
Ø¨Ø±Ø§ÛŒ Ù¾Ø³ØªÛŒ Ø¨Ø§ Ù…ÙˆØ¶ÙˆØ¹ Ø²ÛŒØ±ØŒ ${count} ØªÛŒØªØ± / Ù‡ÙˆÚ© Ú©ÙˆØªØ§Ù‡ Ùˆ Ø¬Ø°Ø§Ø¨ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ù¾Ø´Ù† Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø¨Ø¯Ù‡:

Ù…ÙˆØ¶ÙˆØ¹: ${topic}

Ù„Ø­Ù†: ${tone}

Ø´Ø±Ø§ÛŒØ·:
- Ù‡Ø± ØªÛŒØªØ± Ø¯Ø± ÛŒÚ© Ø®Ø· Ø¬Ø¯Ø§
- Ø²ÛŒØ§Ø¯ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ù†Ø¨Ø§Ø´Ø¯
- Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ú©Ù†Ø¬Ú©Ø§Ùˆ Ùˆ Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ø§Ø¯Ø§Ù…Ù‡ Ø®ÙˆØ§Ù†Ø¯Ù† Ú©Ù†Ø¯
        `.trim();

        btn.disabled = true;
        const original = btn.textContent;
        btn.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª ØªÛŒØªØ±Ù‡Ø§...";

        try {
          const answer = await callApi({ text: prompt });
          resultEl.textContent = answer || "Ù…ØªÙ†ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯. Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†.";
        } catch (err) {
          resultEl.textContent = "Ø¯Ø± Ø³Ø§Ø®Øª ØªÛŒØªØ±Ù‡Ø§ Ù…Ø´Ú©Ù„ÛŒ Ù¾ÛŒØ´ Ø¢Ù…Ø¯. Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†. ğŸ™";
        } finally {
          btn.disabled = false;
          btn.textContent = original;
        }
      });
    })();

    // Ú©Ø§Ø±Øª Ù¾Ø±Ø§Ù…Ù¾Øª ØªØµÙˆÛŒØ±
    (function setupPromptCard() {
      const btn = document.getElementById("btn-prompt-generate");
      if (!btn) return;

      const topicEl = document.getElementById("prompt-topic");
      const styleEl = document.getElementById("prompt-style");
      const extraEl = document.getElementById("prompt-extra");
      const resultEl = document.getElementById("prompt-result");

      btn.addEventListener("click", async () => {
        const topic = (topicEl.value || "").trim();
        if (!topic) {
          resultEl.textContent = "Ù„Ø·ÙØ§Ù‹ Ù…ÙˆØ¶ÙˆØ¹ Ú©Ù„ÛŒ ØªØµÙˆÛŒØ± Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ ğŸŒ±";
          return;
        }

        const style = styleEl.value || "modern and minimal";
        const extra = (extraEl.value || "").trim();

        const prompt = `
You are a prompt engineer for AI image generation tools (like Midjourney, DALLÂ·E, etc.).
Create a single, high-quality English prompt for designing a social media cover/banner.

Details (in Persian):
- Topic: ${topic}
- Visual style: ${style}
- Extra notes: ${extra || "not specified"}

Requirements:
- Write the final prompt ONLY in English.
- 1â€“2 sentences maximum.
- Mention camera view, lighting, color mood, and composition if helpful.
        `.trim();

        btn.disabled = true;
        const original = btn.textContent;
        btn.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ù¾Ø±Ø§Ù…Ù¾Øª...";

        try {
          const answer = await callApi({ text: prompt });
          resultEl.textContent = answer || "Ù…ØªÙ†ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯. Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†.";
        } catch (err) {
          resultEl.textContent = "Ø¯Ø± Ø³Ø§Ø®Øª Ù¾Ø±Ø§Ù…Ù¾Øª Ù…Ø´Ú©Ù„ÛŒ Ù¾ÛŒØ´ Ø¢Ù…Ø¯. Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†. ğŸ™";
        } finally {
          btn.disabled = false;
          btn.textContent = original;
        }
      });
    })();

    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù¾ÛŒ
    (function setupCopyButtons() {
      const buttons = document.querySelectorAll(".copy-btn");
      if (!buttons.length) return;

      buttons.forEach((btn) => {
        const targetId = btn.getAttribute("data-copy-target");
        const target = targetId ? document.getElementById(targetId) : null;
        if (!target) return;

        btn.addEventListener("click", () => {
          const text = (target.textContent || "").trim();
          if (!text) {
            const original = btn.textContent;
            btn.textContent = "Ù…ØªÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ù†ÛŒØ³Øª";
            setTimeout(() => {
              btn.textContent = original;
            }, 1000);
            return;
          }

          const original = btn.textContent;
          btn.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ú©Ù¾ÛŒ...";

          try {
            if (navigator.clipboard && navigator.clipboard.writeText) {
              navigator.clipboard.writeText(text).then(
                () => {
                  btn.textContent = "âœ… Ú©Ù¾ÛŒ Ø´Ø¯";
                },
                () => {
                  btn.textContent = "Ú©Ù¾ÛŒ Ù†Ø´Ø¯ ğŸ˜”";
                }
              );
            } else {
              const ta = document.createElement("textarea");
              ta.value = text;
              ta.style.position = "fixed";
              ta.style.opacity = "0";
              document.body.appendChild(ta);
              ta.select();
              document.execCommand("copy");
              document.body.removeChild(ta);
              btn.textContent = "âœ… Ú©Ù¾ÛŒ Ø´Ø¯";
            }
          } catch (err) {
            console.error(err);
            btn.textContent = "Ú©Ù¾ÛŒ Ù†Ø´Ø¯ ğŸ˜”";
          } finally {
            setTimeout(() => {
              btn.textContent = original;
            }, 1500);
          }
        });
      });
    })();
  </script>

  <script>
    (function () {
      const introBody = document.getElementById("introBody");
      const introToggleBtn = document.getElementById("introToggleBtn");
      const introCloseBtn = document.getElementById("introCloseBtn");

      function openIntro() {
        if (introBody) introBody.classList.remove("intro-body--collapsed");
        if (introToggleBtn) introToggleBtn.textContent = "Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ØªÙˆØ¶ÛŒØ­Ø§Øª";
      }

      function closeIntro() {
        if (introBody) introBody.classList.add("intro-body--collapsed");
        if (introToggleBtn) introToggleBtn.textContent = "Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙˆØ¶ÛŒØ­Ø§Øª";
      }

      if (introToggleBtn) {
        introToggleBtn.addEventListener("click", function () {
          if (!introBody) return;
          const collapsed = introBody.classList.contains("intro-body--collapsed");
          if (collapsed) {
            openIntro();
          } else {
            closeIntro();
          }
        });
      }

      if (introCloseBtn) {
        introCloseBtn.addEventListener("click", function () {
          closeIntro();
        });
      }

      function openInEitaaOrBrowser(url) {
        if (
          window.Eitaa &&
          window.Eitaa.WebApp &&
          typeof window.Eitaa.WebApp.openEitaaLink === "function"
        ) {
          try {
            window.Eitaa.WebApp.openEitaaLink(url);
            return;
          } catch (e) {}
        }
        window.location.href = url;
      }

      const tavitaBtn = document.getElementById("tavitaChannelBtn");
      if (tavitaBtn) {
        tavitaBtn.addEventListener("click", function () {
          openInEitaaOrBrowser("https://eitaa.com/tavita");
        });
      }

      if (window.Eitaa && window.Eitaa.WebApp) {
        try {
          const wa = window.Eitaa.WebApp;
          if (typeof wa.ready === "function") wa.ready();
          if (typeof wa.expand === "function") wa.expand();
        } catch (e) {}
      }
    })();
  </script>
</body>
</html>
